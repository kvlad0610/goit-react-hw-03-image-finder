(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{25:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(7),o=n.n(r),i=(n(25),n(10)),l=n(4),s=n(5),u=n(19),j=n.n(u);function b(e,t){return j.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("19732085-0a6dcdc0e90ef399881a67a68","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data}))}var m=n(1);function d(e){var t=e.onSubmit,n=e.onPage,a=Object(c.useState)(""),r=Object(l.a)(a,2),o=r[0],i=r[1];return Object(m.jsx)("header",{className:"Searchbar",children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(n(),t(o),i("")):s.b.error("\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435")},children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(m.jsx)("input",{className:"SearchForm-input",type:"text",placeholder:"Search images and photos",value:o,onChange:function(e){i(e.target.value.toLowerCase())}})]})})}function f(e){var t=e.webformatURL,n=e.largeImageURL,c=e.onClickImg;return Object(m.jsx)("li",{className:"ImageGalleryItem",children:Object(m.jsx)("img",{src:t,"data-url":n,alt:"",className:"ImageGalleryItem-image",onClick:function(e){console.log(e.currentTarget.dataset.url),c(e.currentTarget.dataset.url)}})})}function h(e){var t=e.gallery,n=e.imgModal;return Object(m.jsx)("ul",{className:"ImageGallery",children:t&&t.map((function(e){var t=e.id,c=e.webformatURL,a=e.largeImageURL;return Object(m.jsx)(f,{webformatURL:c,largeImageURL:a,onClickImg:n},t)}))})}function g(e){var t=e.onChangePage;return Object(m.jsx)("div",{className:"ContainerButton",children:Object(m.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load more"})})}function O(e){var t=e.onUrl,n=e.onCloseModal,a=function(e){"Escape"===e.code&&n()};return Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}})),Object(m.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&n()},children:Object(m.jsx)("div",{className:"Modal",children:Object(m.jsx)("img",{src:t,alt:""})})})}var p=n(20),x=n.n(p);n(65);function v(){return Object(m.jsx)("div",{className:"spinnerContainer",children:Object(m.jsx)(x.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})}n(66),n(67);function y(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(1),o=Object(l.a)(r,2),u=o[0],j=o[1],f=Object(c.useState)([]),p=Object(l.a)(f,2),x=p[0],y=p[1],w=Object(c.useState)(!1),S=Object(l.a)(w,2),C=S[0],N=S[1],I=Object(c.useState)(null),k=Object(l.a)(I,2),L=k[0],E=k[1];return console.log(x),console.log(n),console.log(L),Object(c.useEffect)((function(){""!==n&&1===u&&(N(!0),b(n,u).then((function(e){var t=e.hits;return y(t)})).catch((function(e){return s.b.error("Error")})).finally((function(){return N(!1)}))),""!==n&&u>1&&(N(!0),b(n,u).then((function(e){var t=e.hits;return y((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))}))})).then((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return s.b.error("Error")})).finally((function(){return N(!1)})))}),[n,u]),Object(m.jsxs)("div",{children:[Object(m.jsx)(s.a,{autoClose:3e3}),Object(m.jsx)(d,{onSubmit:function(e){a(e)},onPage:function(){j(1)}}),Object(m.jsx)(h,{gallery:x,imgModal:function(e){E(e)}}),C?Object(m.jsx)(v,{}):0!==x.length&&Object(m.jsx)(g,{onChangePage:function(){j((function(e){return e+1}))}}),L&&Object(m.jsx)(O,{onUrl:L,onCloseModal:function(){E(null)}})]})}o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.857c06d4.chunk.js.map